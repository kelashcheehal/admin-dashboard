{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/work/wbadmindashboard/app/unauthorized/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useClerk, useUser } from \"@clerk/nextjs\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { ShieldAlert, ArrowLeft } from \"lucide-react\";\r\n\r\nexport default function UnauthorizedPage() {\r\n  const { user, isLoaded } = useUser();\r\n  const { openSignIn, signOut } = useClerk();\r\n  const router = useRouter();\r\n  const [isChecking, setIsChecking] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!isLoaded) return;\r\n\r\n    const role = user?.publicMetadata?.role;\r\n    console.log(\"User role:\", role);\r\n\r\n    if (role === \"admin\") {\r\n      router.replace(\"/admin/products\");\r\n    } else {\r\n      setIsChecking(false); // Stop checking and show page\r\n    }\r\n  }, [isLoaded, user, router]);\r\n\r\n  const handleSignIn = () => {\r\n    signOut(); // Ensure user is signed out first\r\n    openSignIn();\r\n  };\r\n\r\n  if (isChecking && !isLoaded) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 px-4\">\r\n        <div className=\"bg-white shadow-lg rounded-2xl p-10 max-w-md w-full text-center border border-gray-200\">\r\n          <div className=\"mx-auto flex items-center justify-center w-20 h-20 rounded-full bg-red-100 mb-6\">\r\n            <ShieldAlert className=\"w-10 h-10 text-red-500\" />\r\n          </div>\r\n          <h1 className=\"text-3xl font-bold text-[#2C1810] mb-3\">\r\n            Access Denied\r\n          </h1>\r\n          <p className=\"text-gray-600 text-sm leading-relaxed mb-6\">\r\n            Checking permissions...\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 px-4\">\r\n      <div className=\"bg-white shadow-lg rounded-2xl p-10 max-w-md w-full text-center border border-gray-200\">\r\n        <div className=\"mx-auto flex items-center justify-center w-20 h-20 rounded-full bg-red-100 mb-6\">\r\n          <ShieldAlert className=\"w-10 h-10 text-red-500\" />\r\n        </div>\r\n        <h1 className=\"text-3xl font-bold text-[#2C1810] mb-3\">\r\n          Access Denied\r\n        </h1>\r\n        <p className=\"text-gray-600 text-sm leading-relaxed mb-6\">\r\n          You don't have permission to view this page.\r\n        </p>\r\n        <div className=\"flex flex-col gap-3\">\r\n          <Link\r\n            href=\"/\"\r\n            className=\"flex items-center justify-center gap-2 px-4 py-3 rounded-full bg-[#2C1810] text-[#D4A574] font-medium hover:opacity-90 transition\"\r\n          >\r\n            <ArrowLeft className=\"w-4 h-4\" />\r\n            Go Back Home\r\n          </Link>\r\n          <button\r\n            className=\"px-4 py-3 rounded-full bg-gray-100 text-[#2C1810] font-medium hover:bg-gray-200 transition\"\r\n            onClick={handleSignIn}\r\n          >\r\n            Sign In with Another Account\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAA,4RAAO;IAClC,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,GAAG,IAAA,6RAAQ;IACxC,MAAM,SAAS,IAAA,8QAAS;IACxB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gVAAQ,EAAC;IAE7C,IAAA,iVAAS,EAAC;QACR,IAAI,CAAC,UAAU;QAEf,MAAM,OAAO,MAAM,gBAAgB;QACnC,QAAQ,GAAG,CAAC,cAAc;QAE1B,IAAI,SAAS,SAAS;YACpB,OAAO,OAAO,CAAC;QACjB,OAAO;YACL,cAAc,QAAQ,8BAA8B;QACtD;IACF,GAAG;QAAC;QAAU;QAAM;KAAO;IAE3B,MAAM,eAAe;QACnB,WAAW,kCAAkC;QAC7C;IACF;IAEA,IAAI,cAAc,CAAC,UAAU;QAC3B,qBACE,6WAAC;YAAI,WAAU;sBACb,cAAA,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAI,WAAU;kCACb,cAAA,6WAAC,uTAAW;4BAAC,WAAU;;;;;;;;;;;kCAEzB,6WAAC;wBAAG,WAAU;kCAAyC;;;;;;kCAGvD,6WAAC;wBAAE,WAAU;kCAA6C;;;;;;;;;;;;;;;;;IAMlE;IAEA,qBACE,6WAAC;QAAI,WAAU;kBACb,cAAA,6WAAC;YAAI,WAAU;;8BACb,6WAAC;oBAAI,WAAU;8BACb,cAAA,6WAAC,uTAAW;wBAAC,WAAU;;;;;;;;;;;8BAEzB,6WAAC;oBAAG,WAAU;8BAAyC;;;;;;8BAGvD,6WAAC;oBAAE,WAAU;8BAA6C;;;;;;8BAG1D,6WAAC;oBAAI,WAAU;;sCACb,6WAAC,sSAAI;4BACH,MAAK;4BACL,WAAU;;8CAEV,6WAAC,iTAAS;oCAAC,WAAU;;;;;;gCAAY;;;;;;;sCAGnC,6WAAC;4BACC,WAAU;4BACV,SAAS;sCACV;;;;;;;;;;;;;;;;;;;;;;;AAOX"}}]
}