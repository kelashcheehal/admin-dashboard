{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/work/wbadmindashboard/app/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useClerk, useUser } from \"@clerk/nextjs\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\n\nexport default function HomePage() {\n  // Rename if needed\n  const { user, isLoaded } = useUser();\n  const [checking, setChecking] = useState(true);\n  const { openSignIn } = useClerk();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!isLoaded) return; // Wait for loading\n\n    if (!user) {\n      openSignIn(); // Prompt sign-in if no user\n      return;\n    }\n\n    const role = user?.publicMetadata?.role;\n    console.log(\"User role:\", role); // Debug: Check this in console\n\n    if (role === \"admin\") {\n      router.replace(\"/admin\");\n    } else {\n      router.replace(\"/unauthorized\");\n    }\n\n    setChecking(false);\n  }, [isLoaded, user, router, openSignIn]);\n\n  if (!isLoaded || checking) {\n    return <div className=\"p-6 text-center\">Checking access...</div>;\n  }\n\n  return <div>Redirecting...</div>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,mBAAmB;IACnB,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAA,4RAAO;IAClC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gVAAQ,EAAC;IACzC,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,6RAAQ;IAC/B,MAAM,SAAS,IAAA,8QAAS;IAExB,IAAA,iVAAS,EAAC;QACR,IAAI,CAAC,UAAU,QAAQ,mBAAmB;QAE1C,IAAI,CAAC,MAAM;YACT,cAAc,4BAA4B;YAC1C;QACF;QAEA,MAAM,OAAO,MAAM,gBAAgB;QACnC,QAAQ,GAAG,CAAC,cAAc,OAAO,+BAA+B;QAEhE,IAAI,SAAS,SAAS;YACpB,OAAO,OAAO,CAAC;QACjB,OAAO;YACL,OAAO,OAAO,CAAC;QACjB;QAEA,YAAY;IACd,GAAG;QAAC;QAAU;QAAM;QAAQ;KAAW;IAEvC,IAAI,CAAC,YAAY,UAAU;QACzB,qBAAO,6WAAC;YAAI,WAAU;sBAAkB;;;;;;IAC1C;IAEA,qBAAO,6WAAC;kBAAI;;;;;;AACd"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///E:/work/wbadmindashboard/node_modules/.pnpm/next%4016.0.3_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,uMACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}